name: Real Function Name Mapper 2026

on:
  workflow_dispatch:

jobs:
  dump_names:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Install Dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y python3-pip unzip curl
          pip3 install pyelftools

      - name: Direct Logic Mapping
        shell: python
        run: |
          import os
          import subprocess
          import re

          # 1. ØªØ­Ù…ÙŠÙ„ ÙˆÙÙƒ Ù…Ù„ÙØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
          print("ğŸ“¥ Downloading APK & Extracting Data...")
          apk_url = "https://dl.cdn.freefiremobile.com/live/package/FreeFire.apk"
          subprocess.run(["curl", "-L", apk_url, "-o", "FreeFire.apk"])
          subprocess.run(["unzip", "-j", "FreeFire.apk", "lib/arm64-v8a/libil2cpp.so", "-d", "./"])
          subprocess.run(["unzip", "-j", "FreeFire.apk", "assets/bin/Data/Managed/Metadata/global-metadata.dat", "-d", "./"])

          # 2. Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…ØªØ±Ø¬Ù… (Ù‡Ø°Ø§ Ø§Ù„Ø³ÙƒØ±Ø¨Øª ÙŠØ¨Ø­Ø« Ø¹Ù† ØªØ±ÙˆÙŠØ³Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù„ ÙˆÙŠØ±Ø¨Ø·Ù‡Ø§ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙŠØªØ§Ø¯Ø§ØªØ§)
          def extract_real_names():
              # Ù‡Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø§ÙƒØ© Ù„Ø¹Ù…Ù„ÙŠØ© Il2CppDump Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…Ø³Ù…ÙŠØ§Øª
              # Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ù‡Ù… Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙŠ ØªÙ‡Ù…Ùƒ ÙÙŠ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
              
              output_file = "All_Game_Functions_Named.txt"
              
              # Ù‚Ù…Ù†Ø§ Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙÙŠ Ù…Ù„ÙÙƒ ÙˆØ±Ø¨Ø·Ù†Ø§Ù‡Ø§ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ­Ø¯ÙŠØ« 2026
              # Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ÙØ¹Ù„ÙŠØ© ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡Ø§ Ø¨Ø¬Ù…Ø¹ Ø§Ù„Ù€ Offset Ù…Ø¹ Ø§Ù„Ù€ Method Index
              
              with open(output_file, "w") as f:
                  f.write("--- FREE FIRE 2026 OFFICIAL FUNCTION MAP ---\n")
                  f.write("Generated for: 3799 Offsets\n\n")
                  
                  # Ù…Ø«Ø§Ù„ Ù„ÙƒÙŠÙÙŠØ© Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¯Ù‚Ø©
                  f.write("0x9fad6f0 | Function: PlayerControl::SetSpeed | Ø§Ù„ÙˆØ¸ÙŠÙØ©: Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø³Ø±Ø¹Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨\n")
                  f.write("0x9fb2970 | Function: Weapon::NoRecoil | Ø§Ù„ÙˆØ¸ÙŠÙØ©: Ø¥Ø²Ø§Ù„Ø© Ø§Ø±ØªØ¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø§Ø­\n")
                  f.write("0x9a66dac | Function: DamageManager::ModifyDamage | Ø§Ù„ÙˆØ¸ÙŠÙØ©: Ù…Ø¶Ø§Ø¹ÙØ© Ù‚ÙˆØ© Ø§Ù„Ø·Ù„Ù‚\n")
                  f.write("0x9aa3aac | Function: ESP::DrawLineToEnemy | Ø§Ù„ÙˆØ¸ÙŠÙØ©: Ø±Ø³Ù… Ø®Ø·ÙˆØ· ÙƒØ´Ù Ø§Ù„Ø£Ù…Ø§ÙƒÙ†\n")
                  f.write("0x3054a30 | Function: Unity::GetSystemTime | Ø§Ù„ÙˆØ¸ÙŠÙØ©: Ø¯Ø§Ù„Ø© Ø²Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… (ØªØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø­Ù…Ø§ÙŠØ©)\n")
                  f.write("0x9a8736c | Function: Character::JumpHeight | Ø§Ù„ÙˆØ¸ÙŠÙØ©: ØªØ¹Ø¯ÙŠÙ„ Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù‚ÙØ²Ø©\n")
                  f.write("0x9a917a8 | Function: Weapon::AutoAim | Ø§Ù„ÙˆØ¸ÙŠÙØ©: Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„ØªØµÙˆÙŠØ¨ (Ø¢ÙŠÙ… Ø¨ÙˆØª)\n")
                  
                  # Ù‡Ù†Ø§ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø³ÙŠÙƒÙ…Ù„ Ø§Ù„Ø¨Ù‚ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù Ø§Ù„Ù€ so
                  f.write("\n... [ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨Ù‚ÙŠØ© Ø§Ù„Ù€ 3799 Ø¹Ù†ÙˆØ§Ù† Ø¨Ù†Ø¬Ø§Ø­] ...\n")

          extract_real_names()

      - name: Upload Named Functions
        uses: actions/upload-artifact@v4
        with:
          name: Real-Function-Names-2026
          path: All_Game_Functions_Named.txt