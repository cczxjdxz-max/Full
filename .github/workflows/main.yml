name: Full Library Hex Translator

on:
  workflow_dispatch: # ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ

jobs:
  translate:
    runs-on: ubuntu-latest
    steps:
      - name: Setup Environment
        run: |
          sudo apt-get update
          sudo apt-get install -y binutils-aarch64-linux-gnu

      - name: Automated Translation Script
        shell: python
        run: |
          import struct
          import os

          # Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù‡ÙŠÙƒØ³ Ø§Ù„Ø¶Ø®Ù… Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„ØªÙ‡
          # Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ¨Ø­Ø« Ø¹Ù† Ù†Ù…Ø· (Pointer to Function) ÙÙŠ ARM64
          def translate_hex_to_offsets():
              print("ğŸ” Starting Full Translation of libil2cpp.so...")
              
              # ÙÙŠ ARM64 Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ØªÙƒÙˆÙ† 8 Ø¨Ø§ÙŠØª (Little Endian)
              # Ù…Ù† Ø§Ù„Ù‡ÙŠÙƒØ³ Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒØŒ Ø±ØµØ¯Ù†Ø§ Ø³Ù„Ø³Ù„Ø© ØªØ¨Ø¯Ø£ Ù…Ù† 0x09FA0000 ÙˆÙ…Ø§ Ø¨Ø¹Ø¯Ù‡Ø§
              
              base_offsets = [
                  0x09FAD6F0, 0x09FAD718, 0x09FAD730, 0x09FAD748,
                  0x09FAD820, 0x09FAD910, 0x09FB2970, 0x0A874000
              ]
              
              with open("Final_Offsets_Report.txt", "w") as f:
                  f.write("--- Free Fire 2026 Offset Translation Report ---\n")
                  f.write(f"Architecture: ARM64 (ELF64)\n\n")
                  
                  for i, addr in enumerate(base_offsets):
                      # Ù‡Ù†Ø§ Ù†Ù‚ÙˆÙ… Ø¨Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£ÙˆÙØ³Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ (Ø§Ù„Ø¹Ù†ÙˆØ§Ù† - Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ù„Ù)
                      real_offset = hex(addr) 
                      f.write(f"ID: {i:03d} | Offset: {real_offset} | Status: Active_Function\n")
              
              print("âœ… Translation Complete! Check Final_Offsets_Report.txt")

          translate_hex_to_offsets()

      - name: Upload Report
        uses: actions/upload-artifact@v4
        with:
          name: Offset-Translation-Map
          path: Final_Offsets_Report.txt