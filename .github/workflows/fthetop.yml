name: GIAS-METADATA-DISSECTOR
on:
  workflow_dispatch:

jobs:
  dissect:
    runs-on: ubuntu-latest
    steps:
      - name: 1. Find and Extract Strings
        run: |
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù„Ù Ø¨Ø¯Ù‚Ø©
          META_PATH=$(find game_files -name "global-metadata.dat" | head -n 1)
          echo "ðŸŽ¯ Metadata found at: $META_PATH"
          
          # Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙƒÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ÙÙ‡ÙˆÙ…Ø© (ASCII) Ø§Ù„ØªÙŠ Ø·ÙˆÙ„Ù‡Ø§ Ø£ÙƒØ«Ø± Ù…Ù† 5 Ø­Ø±ÙˆÙ
          strings "$META_PATH" > all_strings.txt
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© Ø§Ù„ØªÙŠ ØªÙ‡Ù…Ù†Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©
          echo "--- Searching for Keys ---"
          grep -iE "Bermuda|Recoil|Weapon|Physics|Map|Bullet|m_Hash" all_strings.txt > filtered_keys.txt
          
          echo "âœ… Extraction complete. Previewing found keys:"
          head -n 50 filtered_keys.txt