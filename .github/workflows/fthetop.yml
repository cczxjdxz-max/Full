name: GIAS-METADATA-FINAL-STRIKE
on:
  workflow_dispatch:

jobs:
  dissect:
    runs-on: ubuntu-latest
    steps:
      - name: 1. Preparation
        run: pip install UnityPy

      - name: 2. Complete Extraction & Search
        run: |
          # ØªÙ†Ø²ÙŠÙ„ ÙˆÙÙƒ Ø¶ØºØ·
          wget -q -O game.apk "https://dl.cdn.freefiremobile.com/live/package/FreeFire.apk"
          unzip -o game.apk -d game_files
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù„Ù ÙÙŠ ÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©
          META_PATH=$(find . -name "global-metadata.dat")
          
          if [ -z "$META_PATH" ]; then
            echo "âŒ Metadata not found! Searching for alternative headers..."
            exit 1
          fi
          
          echo "ðŸŽ¯ Found Metadata at: $META_PATH"
          
          # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†ØµÙˆØµ ÙˆØªØ­Ù„ÙŠÙ„Ù‡Ø§
          strings "$META_PATH" > raw_strings.txt
          
          # ÙÙ„ØªØ±Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªÙŠ ØªÙ‡Ù… Ø§Ù„Ø±ÙˆØ¨ÙˆØª (Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ØŒ Ø§Ù„Ø®Ø±ÙŠØ·Ø©ØŒ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡)
          grep -iE "Recoil|Bermuda|Physics|Bullet|Gravity|Speed|Spread|m_Hash" raw_strings.txt | sort -u > game_logic_keys.txt
          
          echo "--- Top 50 Found Logic Keys ---"
          head -n 50 game_logic_keys.txt